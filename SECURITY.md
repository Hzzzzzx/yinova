# 安全策略

## 支持的版本

我们目前支持以下版本的安全更新：

| 版本 | 支持状态 |
|------|---------|
| 1.x   | ✅ 支持 |
| 0.1.x | ✅ 支持 |

## 报告安全问题

如果您发现了安全漏洞，请**不要**在公开的 Issue 中报告。

### 如何报告

请通过以下方式报告安全问题：

1. **发送邮件**到项目维护者（如果提供了邮箱）
2. **创建私有安全咨询**（如果 GitHub 仓库启用了此功能）
3. **联系维护者**通过其他安全渠道

### 报告内容

请包含以下信息：

- 漏洞的详细描述
- 复现步骤
- 潜在影响
- 建议的修复方案（如果有）

### 响应时间

我们会在收到安全报告后的 **48 小时内**确认收到，并在 **7 天内**提供初步响应。

## 安全最佳实践

### 对于用户

1. **保护 API Key**
   - 不要在代码中硬编码 API Key
   - 使用环境变量或配置文件（已添加到 .gitignore）
   - 定期轮换 API Key

2. **网络安全**
   - 默认情况下，面板只在本地（localhost）运行
   - 如果需要远程访问，请使用 VPN 或反向代理，并配置适当的认证

3. **文件权限**
   - Ensure sensitive config (e.g. `yin/moltbot.json`) has correct permissions
   - 不要将包含敏感信息的文件提交到版本控制

4. **依赖更新**
   - 定期运行 `npm audit` 检查依赖安全
   - 及时更新依赖包

### 对于开发者

1. **输入验证**
   - 始终验证用户输入
   - 防止路径遍历攻击
   - 验证端口号范围

2. **敏感信息处理**
   - 不要在代码中硬编码密钥
   - 使用环境变量或配置文件
   - 确保 .gitignore 正确配置

3. **错误处理**
   - 不要泄露敏感信息（如文件路径、内部结构）给用户
   - 记录错误日志，但不要在前端显示详细信息

4. **依赖管理**
   - 定期检查依赖的安全漏洞
   - 使用固定版本号，避免使用 `latest`

## 已知安全问题

目前没有已知的安全问题。如果发现问题，我们会在此列出。

## 安全更新

安全更新会通过以下方式发布：

- GitHub Releases
- 安全公告（如果适用）
- CHANGELOG.md

## 安全相关配置

### 端口配置

默认端口：
- 面板：3999
- 主网关：18789
- 卦网关：18791-18854

**注意**：如果您的环境中这些端口已被占用，请在配置中修改端口号。

### Token 配置

- `gateway.auth.token` in `yin/moltbot.json` is auto-generated by `install.sh`
- 建议使用强随机 token（至少 32 字符）
- Token 存储在配置文件中，确保文件权限正确

### 环境变量

敏感信息可以通过环境变量配置：

```bash
# API Keys
ZAI_API_KEY=your_key_here
OPENAI_API_KEY=your_key_here

# Gateway Token
YINOVA_GATEWAY_TOKEN=your_token_here
```

## 漏洞赏金

目前没有漏洞赏金计划。如果未来启动，会在此更新。

## 联系方式

如有安全问题，请通过 GitHub Issues（使用安全标签）或直接联系维护者。

---

**最后更新**: 2026-02-24
